graph TB
    User[User/Main Function]

    Coordinator[City Coordinator<br/>Analyzes relevance & orchestrates workflow]

    subgraph "Smart City Multi-Agent System"
        Traffic[Traffic Worker Agent<br/>ğŸš¦ Traffic Manager<br/>Semantic Kernel Instance]
        Energy[Energy Worker Agent<br/>âš¡ Energy Analyst<br/>Semantic Kernel Instance]
        Safety[Safety Worker Agent<br/>ğŸš¨ Safety Officer<br/>Semantic Kernel Instance]
        Environment[Environment Worker Agent<br/>ğŸŒ Environment Specialist<br/>Semantic Kernel Instance]
    end

    User -->|Monitoring Request| Coordinator

    Coordinator -->|Coordinate Request| Traffic
    Coordinator -->|Coordinate Request| Energy
    Coordinator -->|Coordinate Request| Safety
    Coordinator -->|Coordinate Request| Environment

    Traffic -.->|Analysis Results| Coordinator
    Energy -.->|Analysis Results| Coordinator
    Safety -.->|Analysis Results| Coordinator
    Environment -.->|Analysis Results| Coordinator

    Coordinator -.->|Aggregated Results| User

    style Coordinator fill:#ffd700
    style Traffic fill:#e1f5ff
    style Energy fill:#fff4e1
    style Safety fill:#ffe1e1
    style Environment fill:#e1ffe1
